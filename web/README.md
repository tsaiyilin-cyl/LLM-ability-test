# LLM èƒ½åŠ›æµ‹è¯•å¹³å°

ä¸€ä¸ªå¤šç»´åº¦çš„å¤§è¯­è¨€æ¨¡å‹èƒ½åŠ›æµ‹è¯„ Web å¹³å°ã€‚

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### 1. å®‰è£…ä¾èµ–

```bash
cd web
pip install -r requirements.txt
```

### 2. å¯åŠ¨æœåŠ¡

```bash
python app.py
```

### 3. é…ç½® API

æœ‰ä¸¤ç§æ–¹å¼é…ç½® APIï¼š

#### æ–¹å¼ä¸€ï¼šWeb ç•Œé¢é…ç½®ï¼ˆæ¨èï¼‰

å¯åŠ¨æœåŠ¡åï¼Œåœ¨ Web ç•Œé¢çš„"API é…ç½®"éƒ¨åˆ†ç›´æ¥é…ç½®ï¼š
- API Base URLï¼šä½ çš„ API æœåŠ¡åœ°å€
- API Keyï¼šä½ çš„ API å¯†é’¥

é…ç½®ä¼šè‡ªåŠ¨ä¿å­˜åˆ°æµè§ˆå™¨æœ¬åœ°å­˜å‚¨ï¼Œæ— éœ€ä¿®æ”¹ä»£ç ã€‚

#### æ–¹å¼äºŒï¼šé…ç½®æ–‡ä»¶

ç¼–è¾‘ `config.py` æ–‡ä»¶ï¼Œè®¾ç½®é»˜è®¤çš„ API é…ç½®ï¼š

```python
OPENAI_API_BASE = "https://api.whatai.cc"  # ä½ çš„ API åŸºç¡€ URL
OPENAI_API_KEY = "your-api-key-here"        # ä½ çš„ API Key
```

> âš ï¸ **å®‰å…¨æç¤º**ï¼š
> - å»ºè®®ä½¿ç”¨ Web ç•Œé¢é…ç½®ï¼Œé…ç½®ä¿¡æ¯ä¿å­˜åœ¨æµè§ˆå™¨æœ¬åœ°ï¼Œä¸ä¼šæäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ
> - å¦‚æœä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œå»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ– `.env` æ–‡ä»¶å­˜å‚¨æ•æ„Ÿä¿¡æ¯
> - ä¸è¦å°†åŒ…å«çœŸå® API Key çš„ `config.py` æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ

### 4. è®¿é—®ç½‘ç«™

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:5000

## ğŸ“Š æµ‹è¯•ç»´åº¦

| ç»´åº¦ | è¯´æ˜ | æµ‹è¯•ç”¨ä¾‹æ•° | çŠ¶æ€ |
|------|------|-----------|------|
| ğŸ›¡ï¸ å®‰å…¨æ”»å‡»æµ‹è¯• | æµ‹è¯•æ¨¡å‹å¯¹å±é™©è¯·æ±‚çš„é˜²æŠ¤èƒ½åŠ› | 10 | âœ… å¯ç”¨ |
| ğŸ–¼ï¸ å›¾ç‰‡åˆ†ç±» | æµ‹è¯•æ¨¡å‹çš„è§†è§‰ç†è§£ä¸åˆ†ç±»èƒ½åŠ› | 22 | âœ… å¯ç”¨ |
| ğŸ“ æ–‡æœ¬åˆ†ç±» | æµ‹è¯•å•†å“/æ–°é—»/ç§‘ç›®åˆ†ç±»èƒ½åŠ› | 7 | âœ… å¯ç”¨ |
| ğŸ›ï¸ æ—¶æ”¿ç±»é—®é¢˜ | æµ‹è¯•æ—¶äº‹æ”¿æ²»ç†è§£èƒ½åŠ› | 8 | âœ… å¯ç”¨ |
| ğŸ˜‚ è°éŸ³æ¢—è§£é‡Š | æµ‹è¯•ä¸­æ–‡è°éŸ³æ¢—ç†è§£èƒ½åŠ› | 10 | âœ… å¯ç”¨ |
| ğŸ’­ å¹»è§‰é—®é¢˜ | æµ‹è¯•æ¨¡å‹å¹»è§‰å‘ç”Ÿä¸çº æ­£ | 10 | âœ… å¯ç”¨ |

## ğŸ¤– æ”¯æŒçš„ API æœåŠ¡

å¹³å°æ”¯æŒæ‰€æœ‰ç¬¦åˆ OpenAI å…¼å®¹ API æ ¼å¼çš„æœåŠ¡ã€‚ä»¥ä¸‹æ˜¯å¸¸è§çš„ API Base URLï¼š

### å›½å†…äº‘æœåŠ¡å•†

- **é˜¿é‡Œäº‘ï¼ˆé€šä¹‰åƒé—®ï¼‰**
  - Base URL: `https://dashscope.aliyuncs.com/compatible-mode/v1`
  - æ–‡æ¡£: [é˜¿é‡Œäº‘ DashScope](https://help.aliyun.com/zh/model-studio/)

- **è…¾è®¯äº‘ï¼ˆæ··å…ƒï¼‰**
  - Base URL: `https://api.hunyuan.cloud.tencent.com`
  - æ–‡æ¡£: [è…¾è®¯äº‘æ··å…ƒ](https://cloud.tencent.com/product/hunyuan)

- **ç™¾åº¦ï¼ˆæ–‡å¿ƒä¸€è¨€/åƒå¸†ï¼‰**
  - Base URL: `https://qianfan.baidubce.com/v2`
  - æ–‡æ¡£: [ç™¾åº¦åƒå¸†](https://cloud.baidu.com/product/qianfan.html)
  - âš ï¸ **æ³¨æ„**ï¼šå¹³å°ä¼šè‡ªåŠ¨è¯†åˆ«å¹¶æ·»åŠ  `/v2` è·¯å¾„

- **å­—èŠ‚è·³åŠ¨ï¼ˆè±†åŒ…ï¼‰**
  - Base URL: `https://ark.cn-beijing.volces.com/api/v3`
  - æ–‡æ¡£: [ç«å±±å¼•æ“è±†åŒ…](https://www.volcengine.com/product/doubao)

- **æ™ºè°±AIï¼ˆGLMï¼‰**
  - Base URL: `https://open.bigmodel.cn/api/paas/v4`
  - æ–‡æ¡£: [æ™ºè°±AIå¼€æ”¾å¹³å°](https://open.bigmodel.cn/)

- **æœˆä¹‹æš—é¢ï¼ˆKimiï¼‰**
  - Base URL: `https://api.moonshot.cn/v1`
  - æ–‡æ¡£: [Moonshot AI](https://platform.moonshot.cn/)

### å›½å¤–æœåŠ¡å•†

- **OpenAI**
  - Base URL: `https://api.openai.com/v1`
  - æ–‡æ¡£: [OpenAI API](https://platform.openai.com/docs)

- **Anthropicï¼ˆClaudeï¼‰**
  - Base URL: `https://api.anthropic.com/v1`
  - æ–‡æ¡£: [Anthropic API](https://docs.anthropic.com/)

- **Googleï¼ˆGeminiï¼‰**
  - Base URL: `https://generativelanguage.googleapis.com/v1`
  - æ–‡æ¡£: [Google AI Studio](https://makersuite.google.com/app/apikey)

### ä»£ç†æœåŠ¡

- **WhatAI**ï¼ˆç¤ºä¾‹ï¼‰
  - Base URL: `https://api.whatai.cc/v1`
  - è¯´æ˜ï¼šç¬¬ä¸‰æ–¹ä»£ç†æœåŠ¡ï¼Œæ”¯æŒå¤šç§æ¨¡å‹

> ğŸ’¡ **æç¤º**ï¼š
> - æ‰€æœ‰ API éƒ½é€šè¿‡ç»Ÿä¸€çš„ OpenAI å…¼å®¹æ¥å£è°ƒç”¨
> - å¦‚æœ Base URL æœªåŒ…å«ç‰ˆæœ¬å·ï¼ˆå¦‚ `/v1`ï¼‰ï¼Œå¹³å°ä¼šè‡ªåŠ¨æ·»åŠ  `/v1`ï¼ˆæ–‡å¿ƒä¸€è¨€è‡ªåŠ¨æ·»åŠ  `/v2`ï¼‰
> - æ”¯æŒé€šè¿‡ `/api/fetch-models` æ¥å£ä» API æœåŠ¡ç«¯åŠ¨æ€è·å–å¯ç”¨æ¨¡å‹åˆ—è¡¨
> - å…·ä½“æ¨¡å‹åç§°è¯·å‚è€ƒå„æœåŠ¡å•†çš„æ–‡æ¡£

## ğŸ“ é¡¹ç›®ç»“æ„

```
web/
â”œâ”€â”€ app.py                  # Flask åç«¯æœåŠ¡
â”œâ”€â”€ config.py               # é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt        # Python ä¾èµ–
â”œâ”€â”€ README.md               # è¯´æ˜æ–‡æ¡£
â””â”€â”€ static/
    â”œâ”€â”€ index.html          # ä¸»é¡µé¢ï¼ˆç»´åº¦é€‰æ‹©ï¼‰
    â”œâ”€â”€ css/
    â”‚   â””â”€â”€ style.css       # å…¬å…±æ ·å¼
    â”œâ”€â”€ js/
    â”‚   â”œâ”€â”€ api.js          # API è°ƒç”¨æ¨¡å—
    â”‚   â”œâ”€â”€ app.js          # ä¸»åº”ç”¨é€»è¾‘
    â”‚   â””â”€â”€ components.js   # UI ç»„ä»¶æ¨¡å—
    â””â”€â”€ pages/
        â”œâ”€â”€ security.html   # å®‰å…¨æµ‹è¯•é¡µé¢
        â”œâ”€â”€ image.html      # å›¾ç‰‡åˆ†ç±»é¡µé¢
        â”œâ”€â”€ text.html       # æ–‡æœ¬åˆ†ç±»é¡µé¢
        â”œâ”€â”€ politics.html   # æ—¶æ”¿é—®é¢˜é¡µé¢
        â”œâ”€â”€ pun.html        # è°éŸ³æ¢—é¡µé¢
        â””â”€â”€ hallucination.html  # å¹»è§‰æµ‹è¯•é¡µé¢
```

## ğŸ”Œ API æ¥å£

| æ¥å£ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/api/dimensions` | GET | è·å–æ‰€æœ‰æµ‹è¯•ç»´åº¦ |
| `/api/models` | GET | è·å–é¢„è®¾çš„å¯ç”¨æ¨¡å‹åˆ—è¡¨ |
| `/api/fetch-models` | POST | ä» API æœåŠ¡ç«¯åŠ¨æ€è·å–å¯ç”¨æ¨¡å‹åˆ—è¡¨ |
| `/api/test-cases/<dimension>` | GET | è·å–æŒ‡å®šç»´åº¦çš„æµ‹è¯•ç”¨ä¾‹ |
| `/api/test-connection` | POST | æµ‹è¯• API è¿æ¥ |
| `/api/test` | POST | è¿è¡Œå•ä¸ªæµ‹è¯• |
| `/api/classify-image` | POST | å›¾ç‰‡åˆ†ç±»æµ‹è¯• |

## ğŸ’¡ ç‰¹æ€§

- ğŸ¨ **æ¨¡å—åŒ–è®¾è®¡**ï¼šCSS/JS åˆ†ç¦»ï¼Œæ˜“äºç»´æŠ¤
- ğŸŒ **å¤šè¯­è¨€æ”¯æŒ**ï¼šä¸­è‹±æ–‡æµ‹è¯•ç”¨ä¾‹å’Œæç¤ºè¯
- âš™ï¸ **å¯é…ç½®æç¤ºè¯**ï¼šæ”¯æŒè‡ªå®šä¹‰ System/User Prompt
- ğŸ“Š **å®æ—¶ç»Ÿè®¡**ï¼šæµ‹è¯•ç»“æœå®æ—¶ç»Ÿè®¡å’Œè¯„ä¼°
- ğŸ”’ **æœ¬åœ°å­˜å‚¨**ï¼šAPI é…ç½®å’Œæç¤ºè¯ä¿å­˜åˆ°æœ¬åœ°æµè§ˆå™¨
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šé€‚é…ä¸åŒå±å¹•å°ºå¯¸
- ğŸ”Œ **å¤šæ¨¡å‹æ”¯æŒ**ï¼šç»Ÿä¸€æ¥å£æ”¯æŒå¤šç§å¤§è¯­è¨€æ¨¡å‹
- ğŸ¯ **åŠ¨æ€é…ç½®**ï¼šæ”¯æŒè¿è¡Œæ—¶é…ç½® API Base URL å’Œ API Key
- ğŸ”„ **åŠ¨æ€æ¨¡å‹è·å–**ï¼šæ”¯æŒä» API æœåŠ¡ç«¯è‡ªåŠ¨è·å–å¯ç”¨æ¨¡å‹åˆ—è¡¨
- ğŸ›¡ï¸ **ç‰¹æ®Š API é€‚é…**ï¼šè‡ªåŠ¨è¯†åˆ«å¹¶é€‚é…æ–‡å¿ƒä¸€è¨€ï¼ˆåƒå¸†å¹³å°ï¼‰ç­‰ç‰¹æ®Š API

## âš™ï¸ é…ç½®è¯´æ˜

å¹³å°æ”¯æŒå¤šç§é…ç½®æ–¹å¼ï¼ŒæŒ‰ä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼š

### 1. Web ç•Œé¢é…ç½®ï¼ˆæ¨èï¼‰

åœ¨ Web ç•Œé¢çš„"API é…ç½®"éƒ¨åˆ†ç›´æ¥é…ç½® API Base URL å’Œ API Keyï¼Œé…ç½®ä¼šè‡ªåŠ¨ä¿å­˜åˆ°æµè§ˆå™¨æœ¬åœ°å­˜å‚¨ã€‚è¿™æ˜¯æœ€æ¨èçš„æ–¹å¼ï¼Œå› ä¸ºï¼š
- é…ç½®ä¿¡æ¯ä¿å­˜åœ¨æµè§ˆå™¨æœ¬åœ°ï¼Œä¸ä¼šæäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ
- æ— éœ€ä¿®æ”¹ä»£ç æ–‡ä»¶
- æ”¯æŒåŠ¨æ€åˆ‡æ¢ä¸åŒçš„ API é…ç½®

### 2. é…ç½®æ–‡ä»¶

ç¼–è¾‘ `config.py` æ–‡ä»¶ç›´æ¥è®¾ç½®é»˜è®¤é…ç½®é¡¹ï¼š

```python
OPENAI_API_BASE = "https://api.whatai.cc"
OPENAI_API_KEY = "your-api-key-here"
```

> âš ï¸ **å®‰å…¨æç¤º**ï¼šä¸è¦å°†åŒ…å«çœŸå® API Key çš„ `config.py` æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚

### 3. ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰

å¦‚éœ€ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ä¿®æ”¹ `app.py` æ·»åŠ  `load_dotenv()` è°ƒç”¨ï¼š

```python
from dotenv import load_dotenv
load_dotenv()
```

ç„¶ååœ¨ `.env` æ–‡ä»¶ä¸­è®¾ç½®ï¼ˆå·²æ·»åŠ åˆ° `.gitignore`ï¼‰ï¼š

```env
OPENAI_API_BASE=https://api.whatai.cc
OPENAI_API_KEY=your-api-key-here
```

> ğŸ’¡ **é…ç½®ä¼˜å…ˆçº§**ï¼šWeb ç•Œé¢é…ç½® > é…ç½®æ–‡ä»¶ > ç¯å¢ƒå˜é‡
